/** * Pablo Sanchez * INFX 370 * Description: Behavior of HTML controls . * Features: Text area, play controls, animation, size, and speed. */"use strict";// Call function loadControlPanel() when the page has loadedwindow.onload = loadControlPanel;/** * Main function. Activate control panel actions. */function loadControlPanel() {    //Allow user to select animation    document.getElementById("animation").onchange = selectAnimation;    //Start animation when user clicks start button    document.getElementById("start").onclick = startAnimation;    //Stop button is disabled by default    document.getElementById("stop").disabled = true;    //Stop animation when user clicks stop button    document.getElementById("stop").onclick = stopAnimation;    //Change the font size of the animation    document.getElementById("size").onchange = setAnimationSize;    //Cange the speed of the animation    document.getElementById("turbo").onclick = speedUpAnimation;}//Global variables//Animation as a stringvar animation;//Animation as an array. Each array element is an animation framevar animationFrames;//Default speed of the animation in millisecondsvar animationSpeed = 250;//Define an execution time interval of the animation framesvar frameInterval;/** * Parse selected value from the drop-down list. * Drop-down list: animation */function selectAnimation() {    //Use the dropdown value to select an animation from the ANIMATIONS array    animation = ANIMATIONS[document.getElementById("animation").value];    //Print selected animation as a String to the HTML textarea    document.getElementById("textbox").value = animation;    //Split animation String into an array.    //Each array element is an animation frame    animationFrames = animation.split("=====\n");}/** * Start animation on click. * Button: start */function startAnimation() {    //Set state of buttons and elements while the animation is playing    //Animation drop-down list is disabled    document.getElementById("animation").disabled = true;    //Stop button is enabled    document.getElementById("stop").disabled = false;    //Play button is disabled    document.getElementById("start").disabled = true;    //frameInterval = setInterval(printFrameByFrame(animationFrames), animationFrameSpeed)); DOES NOT WORK!    //Create an execution time interval to print frames    frameInterval = setInterval(function () {        printFrameByFrame();    }, animationSpeed);}/** * Print animation frames */function printFrameByFrame() {    //Remove first element from the animation array and stores it to a variable    var currentFrame = animationFrames.shift();    //Print removed frame to textarea    document.getElementById("textbox").value = currentFrame;    //Push removed frame to the end of the animation array    //This creates a loop each ntime the function is called inside an execution    //interval    animationFrames.push(currentFrame);}/** * Stop animation on click: * Button: stop */function stopAnimation() {    //Set state of buttons and elements while the animation is stopped    //Animation drop-down list is enabled    document.getElementById("animation").disabled = false;    //Start button is enabled    document.getElementById("start").disabled = false;    //The current animation is reselected    //This reload it a string and print it to the textarea    selectAnimation();    //The execution interval must be cleared each time there is a change in the    //animation    clearInterval(frameInterval);    //Stop button is disabled    //Stop button must be disabled at the end. Otherwise, previous statements    //will not be executed.    document.getElementById("stopButton").disabled = true;}/** * Parse selected value from drop-down list to change the font size of the * animation inside the textarea * Drop-down list: size */function setAnimationSize() {    //Set font size with the defined value of the drop-down list element    document.getElementById("textbox").style.fontSize = document.getElementById("size").value;}/** * Increase the animation speed: * Checkbox: turbo */function speedUpAnimation() {    //Check if the checkbox is already checked    if (document.getElementById("turbo").checked) {        animationSpeed = document.getElementById("turbo").value;    }    else {        animationSpeed = 250;    }    //The execution interval must be cleared each time there is a change in the    //animation    clearInterval(frameInterval);    //Proceed to apply changes in the animation speed immediately if the    //animation is already playing    if (document.getElementById("start").disabled) {        frameInterval = setInterval(function () {            printFrameByFrame();        }, animationSpeed);    }}